<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>夢想家棒球隊</title>   	
  <meta name="description" content="夢想家棒球隊，由一群熱愛打棒球的學生及社會人士組成，為高雄草野球聯盟一員">
  <meta name="keywords" content="夢想家棒球隊，由一群熱愛打棒球的學生及社會人士組成，為高雄草野球聯盟一員" /> 
 
  <meta http-equiv="cache-control" content="no-cache">  
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="expires" content="0">
  <meta name="format-detection" content="telephone=no">
  <link rel='stylesheet' href='css/smart.css' type='text/css'>
  <link rel='stylesheet' href='table.css' type='text/css'>

  <link rel="icon" href="dreamer.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="dreamer.ico" type="image/x-icon" />




<link href='sm-css/sm-core-css.css' rel='stylesheet' type='text/css' />
<!-- "sm-blue" menu theme (optional, you can use your own CSS, too) -->
<link href='sm-css/sm-mint/sm-mint.css' rel='stylesheet' type='text/css' />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">


<link rel='stylesheet' href='css/smart.css' type='text/css'>
<link rel='stylesheet' href='table.css' type='text/css'>

<link href="index.css" rel="stylesheet" >
<!-- home banner -->


<script src="js/jquery.min.js.js"></script>     
<script src="js/slick.js"></script>
<script src="js/aos.js"></script>
<script src="js/smart-app-banner.js"></script>    
<script src="js/mobile-detect.js"></script>

<script src="js/functions.js"></script>
<script src="js/controller.js"></script>
<script src="js/swiper.jquery.min.js"></script>

<script src="js/jquery.smartmenus.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>


<link href="css/common.css" rel="stylesheet" />
<link href="css/swiper.min.css" rel="stylesheet" />  

<!-- vue+element ui -->
<script src="https://unpkg.com/vue@2.6.12/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui@2.15.0/lib/index.js"></script>
<script src="https://momentjs.com/downloads/moment.js"></script>
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<link href="elementUI.css" rel="stylesheet" >

<link href="https://tafengtravel.github.io/tafengtravel/index/css/book.css" rel="stylesheet" />

<!-- axios -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js'></script>



</head>
<body>


       <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="/__/firebase/7.14.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<!-- Initialize Firebase -->
<script src="/__/firebase/init.js"></script>
   
   <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>

<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-firestore.js"></script>

<style>
  .el-table .color-row {
    background: #C9D6E0;
  }


</style>



<!-- <nav class="main-nav" role="navigation">

  
  <input id="main-menu-state" type="checkbox" />
  <label class="main-menu-btn" for="main-menu-state">
    <span class="main-menu-btn-icon"></span> 
  </label>

  <h2 class="nav-brand"><img src="dreamer.png"  width="132" height="50"  ></h2>

  
  <ul id="main-menu" class="sm sm-mint">
    <li><a href="home.html">首頁</a></li>
    <li><a href="#">球員資料</a>
      
    </li>
    <li><a href="#">戰績排行</a>
      
    </li>
    <li><a href="#">數據統計</a>
      
    </li>

  </ul>
</nav> -->

<div class="include" file="https://kevin860320.github.io/dreamer/top.html"></div>



<div id="app" class ="el-col el-col-24 el-col-xs-22 el-col-xs-offset-1 el-col-sm-24 el-col-sm-offset-0 el-col-lg-22 el-col-lg-offset-1"> 
  

  <el-col class ="el-col el-col-24 el-col-xs-24 el-col-sm-24 el-col-lg-24">
    
    <el-row></el-row>
    <h2 class ="sub_title"><font color="#003364">打者成績</font></h2>

    <el-table :data="tableDataBatter" height="730px" style="width: 100%" height="250" :row-class-name="tableRowClassName" :default-sort = "{prop: 'number', order: 'ascending'}" empty-text="沒有資料">
      <el-table-column prop="number" label="背號" width='75%' fixed sortable :sort-method = "(a,b)=>{return a.number - b.number}"></el-table-column></el-table-column>
      <el-table-column prop="name" label="姓名"sortable :sort-method = "(a,b)=>{return a.name - b.name}"></el-table-column></el-table-column>
      <el-table-column prop="GP" label="出賽" sortable :sort-method = "(a,b)=>{return a.GP - b.GP}"></el-table-column>
      <el-table-column prop="PA" label="打席" sortable :sort-method = "(a,b)=>{return a.PA - b.PA}"></el-table-column>
      <el-table-column prop="AB" label="打數" sortable :sort-method = "(a,b)=>{return a.AB - b.AB}"></el-table-column>
      <el-table-column prop="HIT" label="安打" sortable :sort-method = "(a,b)=>{return a.HIT - b.HIT}"></el-table-column>
      <el-table-column prop="AVG" label="打擊率" width='100%' sortable :sort-method = "(a,b)=>{return a.AVG - b.AVG}"></el-table-column>
      <el-table-column prop="RBI" label="打點" sortable :sort-method = "(a,b)=>{return a.RBI - b.RBI}"></el-table-column>
      <el-table-column prop="R" label="得分" sortable :sort-method = "(a,b)=>{return a.R - b.R}"></el-table-column>
      <el-table-column prop="SB" label="盜壘" sortable :sort-method = "(a,b)=>{return a.SB - b.SB}"></el-table-column>
      <el-table-column prop="K" label="三振" sortable :sort-method = "(a,b)=>{return a.K - b.K}"></el-table-column>
      <el-table-column prop="BB" label="保送" sortable :sort-method = "(a,b)=>{return a.BB - b.BB}"></el-table-column>
      <el-table-column prop="OBP" label="上壘率" width='100%' sortable :sort-method = "(a,b)=>{return a.OBP - b.OBP}"></el-table-column>
      <el-table-column prop="HR" label="全壘打" width='100%' sortable :sort-method = "(a,b)=>{return a.HR - b.HR}"></el-table-column>
    </el-table>
    <el-row></el-row>
    
  </el-col>
  
</div>

<script>
  let batterData

  var Main = {
    data() {
      return {
        batter: 'AVG',
        pitcher: 'first',
        tableDataBatter: [],
        tableHeight: 0,
      };

    },methods: {
      batterClick(tab, event) {
        console.log();
      },
      pitcherClick(tab, event) {
        console.log();
      },
      tableRowClassName({row, rowIndex}) {
        if (rowIndex%2 === 1) {
          return 'color-row';
        } 
        return '';
      },handleEdit(index,row){
        window.open(row.link);
        

      }
    },mounted(){
      let batterUrl= "https://sheets.googleapis.com/v4/spreadsheets/18vDSTH43uJ9FRhKSGLVO-w4_nhO6dO_pl3Ivh3wAy-Q/values/'batter'!A2:N?key=AIzaSyDVX99fm1rQctLiW-BCTyo407Q0w4Ku_78"
      let pitcherUrl= "https://sheets.googleapis.com/v4/spreadsheets/18vDSTH43uJ9FRhKSGLVO-w4_nhO6dO_pl3Ivh3wAy-Q/values/'pitcher'!A2:N?key=AIzaSyDVX99fm1rQctLiW-BCTyo407Q0w4Ku_78"
      let rankUrl= "https://kevin860320.github.io/dreamer/rank.json"
      let batterArr = []

      axios.get(batterUrl)
      .then( (res) => {
        console.log(res.data.values)
        
        for(i=0;i<res.data.values.length;i++){
          batterArr[i] = {
            'number':res.data.values[i][0],
            'name':res.data.values[i][1],
            'GP':res.data.values[i][2],
            'PA':res.data.values[i][3],
            'AB':res.data.values[i][4],
            'HIT':res.data.values[i][5],
            'AVG':res.data.values[i][6],
            'RBI':res.data.values[i][7],
            'R':res.data.values[i][8],
            'SB':res.data.values[i][9],
            'K':res.data.values[i][10],
            'BB':res.data.values[i][12],
            'OBP':res.data.values[i][12],
            'HR':res.data.values[i][13],
          }
        }
        this.tableDataBatter = batterArr
        // this.tableDataBatter = res.data
      })
      .catch( (err) => {
        console.log(err);
      });

      // this.$nextTick(() => {
      //   this.tableHeight = window.innerHeight - 50;
      //   //后面的50：根据需求空出的高度，自行调整
      // })
    }
};

var Ctor = Vue.extend(Main)
new Ctor().$mount('#app')

  
</script>

<script type="text/javascript">

  //使用jQuery的load方法
  $(".include").each(function(){
      if(!!$(this).attr("file")) {
          var $includeObj = $(this);
          $(this).load($(this).attr("file"), function(html){
              $includeObj.after(html).remove();    //載入的檔案內容寫入到當前標籤後面並移除當前標籤
          })
      }
  });
</script>


</body>
</html>